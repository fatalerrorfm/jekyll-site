Chris Dzombak
Welcome, everybody, to Fatal Error. I'm Krista Zomback.

Soroush Khanlou
And I'm Sirush Kamo.

Chris Dzombak
And this week, Sirush is in Japan for the Tri Tri Swift Japan Conference. And so just like we did a couple episodes ago with the Playgrounds conference episode from Australia, I thought that I would just interview Sirous about his travels, about about Tokyo, about Japan, and about this conference, hopefully. This is interesting.

Soroush Khanlou
Yeah, the conference was really cool, and Japan is a crazy place. I'm sure we'll dive into it.

Chris Dzombak
Cool. Do you want to start with your impressions of Japan? Of Tokyo? Have you been to Japan before?

Soroush Khanlou
No. So this is my first time in Japan. I was very nervous because there's, like, a language barrier, and there is I also thought there would be kind of a food barrier, but turns out both of those things are just not that big of a deal, really.

Chris Dzombak
Okay. I would be, like, traveling to Japan. I would be really nervous because of what I would perceive as a language barrier just from the outset. So what was your experience there like?

Soroush Khanlou
Yeah, so I still speak very little Japanese. I only know a couple of words here and there just to kind of get around, like, truly, I mean, a couple of words, like, less than ten, but everybody here either speaks English, or you can kind of just hand sign and kind kind of of fumble your way through. And there's tons of American tourists in Tokyo in particular, and right now I'm in Kyoto, and there's tons of American tourists. So the stuff we're doing is touristy. And there is facility. There's, like, English menus. There's pictures on the menus. There's also this other thing we've been learning about called sampuru, which is, like, sample food. So they will basically create these 3D versions of the food and put them in a glass case outside so you can look at the food and see if you like it. And we were trying to figure out how they make it, and somebody said it was 3D printed, and I thought it was, like, plasticized food, but it's actually, like, wax that is handmade, and each grain of rice is handmade and then glued together to look like the picture that the restaurant sends them. So there's, like, this village in the mountains that does all of this sample food stuff. Like, they make it all interesting. Yeah, stuff like that. So there's a lot of facility for if you're kind of a foreigner traveling in Japan.

Chris Dzombak
Cool. That's really awesome. That's good to know.

Soroush Khanlou
I think it's one of the more accessible East Asian countries in terms of language, in terms of food and everything. It's pretty easy.

Chris Dzombak
Cool. That's good to know.

Soroush Khanlou
So if you do want to come, I don't think you should let food and language and stuff like that stop you. I was very nervous, but it's good.

Chris Dzombak
Cool. That's really good to know. Yeah, man. So you mentioned that you're in Kyoto now, but the conference itself was in Tokyo. Right?

Soroush Khanlou
Right. So we were in Tokyo for a couple of days and then took the bullet train to Kyoto.

Chris Dzombak
Cool.

Soroush Khanlou
Yeah. So Tokyo is cool. We ate a lot of food there, and there's, like, a really wide variety. Like, I kind of thought it would be, like, sushi and ramen, but there's a very wide variety of food. It's a huge city. I mean, in terms of land area, it's absolutely massive. Way bigger than New York. When you put them land area, like, compare the maps. Bigger than London. Like, massive.

Chris Dzombak
How does it compare in terms of population? Like, is it as dense and just bigger?

Soroush Khanlou
Density I don't know about, but it is one of the most populated cities in the world, depending on how you count, because there's all kinds of weird things. Right. But there are some measures by which it's the biggest city in the world.

Chris Dzombak
Awesome. Cool.

Soroush Khanlou
It's crazy how big it is. Rail infrastructure is great. Food is super, super good. One cool little activity that we did is there's a company that does basically Mario Kart. So you put on kind of Mario uniforms. They have, like, little costumes, and you can put them on, and they give you a go cart. And there's, like, a path through Tokyo that you get to take. And you basically get to drive a go cart on the streets of Tokyo. And it's so cool.

Chris Dzombak
What?

Soroush Khanlou
Yeah, it's completely bananas. So they take you to, like, Tokyo Tower, which is the thing that kind of looks like the Eiffel Tower but red. They take you to there's apparently a Statue of Liberty in Tokyo. So they take you there, they take you across something called the Rainbow Bridge, which I think is supposed to be kind of also a nod to in Mario Kart, you have Rainbow Road. And so you get to do all this stuff, and it's like a two and a half hour go cart ride. And it is so much fun.

Chris Dzombak
That's incredible. Wow. Yeah.

Soroush Khanlou
There's, like, all these really funny things they do to make sure they don't infringe trademarks and copyrights and stuff. But it's really cool. This is very cool.

Chris Dzombak
That's great, man.

Soroush Khanlou
Yeah. So Tokyo is amazing. And so the conference is set in a different place than the recommended hotel. And so there are kind of different neighborhoods. Natasha Murrashev, you might notice, like, Natasha the Robot organizes this conference. And so one of the reasons that she wanted the primary hotel to be farther from the venue for the conference is so that you kind of have to immerse yourself a little bit into the culture of the city. So you have to ride the subway to get to the venue. You have to figure out how to buy a subway card. You have to do all that stuff. And part of the goal is to get you to kind of dive into the culture of the city and experience it firsthand. The same way you take a commute to work, in the same way that many Japanese people take commutes to work.

Chris Dzombak
Cool. That's a really cool idea.

Soroush Khanlou
It is. And it was nice. It is tough the first time you do it, but you figure it out and then you get really good at it and you're like, oh yeah, I've been here forever. I've been here for like a week. But you feel super comfortable. And the other cool thing is the Metro card works. Like, the same card that works in Tokyo works in Kyoto as well. So that's cool too. The real infrastructure is so good. We could maybe start a whole other podcast about trains and we could talk about all the ridiculous train stuff here.

Chris Dzombak
Yeah, we'll start a spin off the Accidental Train podcast.

Soroush Khanlou
Exactly. There you go.

Chris Dzombak
Accidental regional transit podcast.

Soroush Khanlou
I would miss the crap out of that. So the first thing that you notice about the conference is that it is 700 people. So it's really big. And I think accepting WWDC, I've never been to a conference that's that big. Usually they're in the 200, 300 range. So that part of it was super interesting. So there was a lot of people to meet. There was also live translation of all the talks, so there were three or four Japanese speakers and so the translators would translate their talks to English. And then there was also the majority of the speakers spoke English and their talks would be translated into Japanese. And my understanding is a majority of the attendance attendees were also Japanese. So it was like the primary way that my talk, for example, was going to be consumed was in Japanese. And so I kind of optimized the way I gave my talk to make sure that the translators could translate it effectively into Japanese.

Chris Dzombak
What sorts of things do you take into account when you're planning for that? When you're optimizing for that?

Soroush Khanlou
So the big one is you just have to move slowly. They the the translators were very, very professional. They were very good at their job. So they got a copy of our transcript ahead of time. They got a copy of our slides ahead of time. They learned all the terms of art that we used and they figured out which things they should translate into Japanese. And sequence like lowercase S could be a word, like a sequence of things, but also capital S. It's a protocol for that one. You have to refer to it sort of with the English name since that's how the code we typed. So there's definitely like so they had to figure all that stuff out ahead of time. And then before your talk, they kind of come up to you and they pull your site into a room and they work with you to say, hey, what's going on here? And what are you going to do for that? And how are you going to handle this part? And you kind of can tell them, like, hey, this word actually, you should translate into English and you should make sure this stays with English pronunciation. And then these words are just words that can be translated to Japanese. They do that as well. And what I ended up doing was I cut several of my slides. I basically cut all the stuff about Random Access collection and I cut out one of the examples from bi directional collection. And so cutting that material and then moving slowly and I think I had, like, five more minutes in Japan meant that basically I fit well into the time slot. And it's funny, I was talking really slowly and I went to the translator afterward and I was like, So how did I do? Was I slow enough? She was like, no, you were not slow enough. So it's definitely weird to write a talk like that. There's a joke in there I talk about Linked lists because that's kind of a natural fit for sequences. And there's a joke in there about like, oh, if you've been studying up for your interviews, you know what a Linked list is. And the joke about interviews is very, like, it's cultural, it's very specific, and it kind of you need a couple of levels to understand it. And so I got a couple of chuckles from the audience. But the joke definitely didn't land the same way. It landed in Australia, and it's also on time delay, so the translators have to hear your words and then speak your words back. So it's like 5 seconds late. Yeah, that must be tricky, right? Delivering jokes is a lot harder to do. So, yeah, there's cultural components to it. There's linguistic components to it. There's quite a bit going on with the translation, but the translators were really professional. They did a super good job.

Chris Dzombak
So you gave the same talk at Tri Swift in Tokyo as you did in Australia, right?

Soroush Khanlou
That's right. Yeah. I just cut a couple of things out, but for the most part kept it pretty much the same.

Chris Dzombak
So it'll be boring for our listeners if we dive into the same discussion of sequences and collection.

Soroush Khanlou
Yeah, I think that's fair. If they want to hear that stuff. I don't remember what number episode it was, 18 episode, 1919. And they can listen to our episode about playgrounds. And we talk a little bit about sequence and collection there.

Chris Dzombak
So I guess we don't have to cover your talk. What other talks did you attend and did you find really interesting at this conference?

Soroush Khanlou
Yeah, for sure. So there were quite a few talks. There were, I think, 22 or 26 talks. So quite a few speakers. There were a couple of really interesting ones. One, the one I liked the best was Nate Cook's talk. And people might know nate Cook as his username is eight N's in a row. Like, n n. And it's like, n eight. Nate And Nate is super smart, and he does a really good job of breaking this stuff down. And so he talked about pointers, and his topic was or his talk was called Swift's Pointy Bits. And so he broke down the difference between your unsafe buffer mutable pointers and your raw regular pointers and all that stuff and what the difference is. And so he kind of drew this, like, this three dimensional graph where it's basically there's three axes that it can be different. It can be either raw or typed. It can be either mutable or immutable, and it can be buffer, or it can be regular. And so between those three components, if you mix and match all the different things, you get eight different pointer types. And he talked about what they're all good for, how to use them, how to work with them, how to allocate memory with them, all that kind of stuff. And I learned a ton during that talk, and it was just a really concrete talk that was exactly what I needed to learn about that stuff.

Chris Dzombak
Cool.

Soroush Khanlou
And so that was maybe my favorite one. Yeah.

Chris Dzombak
That's awesome. Yeah, that's something that clearly a lot of design work went into that part of the Swift language, but it's not something that we really encounter in our day to day life as application developers. Right?

Soroush Khanlou
Yeah, absolutely. A lot of it is for C interop. So if you want to work with a library that's written in C, you might need to work with some of those APIs. But for the most part, you kind of just want to write a Swifty wrap around that and then return values or return whatever Swifty thing that you actually like.

Chris Dzombak
Yeah, absolutely. Do you know if slides or videos from the conference are up yet? Is there anything we can include in Show Notes yet?

Soroush Khanlou
I know there are slides for we posted the slides in Slack, but I don't know if there was any public place where their slides were also posted. Okay, but the talks will be out soon. I think Realm is doing the translation, so it'll be weeks to months before they're out. Yeah, but it should be soon.

Chris Dzombak
Cool. So that was Nate's talk. We'll try to find some useful documentation about that and put in the Show Notes, because I think that is something that is interesting and kind of important to know about in Swift once you're getting to be a more advanced Swift user. So that's Nate's talk. Who else did you listen to?

Soroush Khanlou
I'm scrolling through this list of people. There's so many good ones. Laura Ragone, who works at Meetup, gave a really good talk about accessibility and specifically for colorblind users. And she basically went online and found a paper that discusses basically the mathematical transforms that you have to apply to a color, like in terms of its red, green, blue values to make it such that that's the person with deuteronopia would see it as and then she open sources as well. And so basically you can take a color and you can say like, transform it with this particular type of colorblindness and it will spit back a color. And so you can apply that to your theme library and say like, okay, well, I have these themes and these colors. I'm going to apply this type of colorblindness to it and take a look at what my app looks like to those users.

Chris Dzombak
Cool.

Soroush Khanlou
So for example, the Meetup app had like a screen where it was like a red badge on a green NAV bar or something like that. And a really angry user wrote in like, I can't see this, I'm a person and I use your app and I can't read this because it's red on green and I have red green colorblindness. And so that forced them to kind of take it really seriously and think about it. And so she did all this research and went into the literature and academic work and basically open source this library that will do these transformations for you, which is so cool.

Chris Dzombak
Yeah, that's really awesome.

Soroush Khanlou
Another cool one. There was a couple of Swift on the server ones. Kyle Fuller gave a talk about writing Swift on the server.

Chris Dzombak
Did Kyle focus on any specific server side framework or any specific tooling? Or was it a more general talk.

Soroush Khanlou
For those of our listeners that don't know Kyle, he is very intense about making very small open source libraries that do lots of different things. And so he of course has his own Swift framework for running a web server. And he calls his Frank, which I think is a joke, like Frank Sinatra, Sinatra, the Ruby library for making web servers. That's a pretty good joke. And so it kind of goes into how Frank works and showing a type safe interface for routing. And he figured out this cool thing that I don't totally understand yet, but basically passing an operator as a parameter to a function. So basically if you want to match UserSID, you can do like pass in it's like a function that takes a Variatic number of properties and you can pass in the string like users and then a comma and then just an asterisk. And it knows that that asterisk. I think it's like passing a closure because you can pass a function by reference from its operator. And so it's like passing that star function. And based on the fact that that's a function, it'll do different behavior. It's wild. So basically you can use stars as like almost an identifier in the language.

Chris Dzombak
Interesting.

Soroush Khanlou
Does that make any sense?

Chris Dzombak
I'm not sure that I totally followed with this verbal description. It's also 1130 at night here, but I will definitely take a look at the framework here.

Soroush Khanlou
Yeah, it's pretty cool. Basically, it allows you to match, like, strings and the asterisk operator to make kind of more descriptive paths.

Chris Dzombak
Cool.

Soroush Khanlou
Yeah, it's really cool. It's a cool little trick, and I think I understand how it works, but I'm not 100% sure on it. So that was really neat. I had to dig into the code to kind of figure that one out.

Chris Dzombak
Cool. All right. That sounds really interesting. And we'll have a link to that Frank DSL for writing web applications in Swift in the show notes.

Soroush Khanlou
Yeah. Cool. Two other really interesting ones, Agnesh and Brandon Williams. I can't pronounce Agnes's last name, so I don't want to butcher it. She taught us how to say it, and I got it, but then I forgot it. They both work on the Functional Swift conference that is sometimes in Brooklyn and sometimes in Hungary. And Brandon's talk was basically bringing these terms from mathematics. So he called them effects and coeffects. And basically the idea is if your function has effects or coeffects, then it is not pure. And if it's not pure, you can't really test the logic within it. And so he showed, basically how to extract those side effect components of your functions into their own thing, pass them as properties, or pass them as parameters into your function, and then that will give you the ability to fully test that function. Okay, so that was pretty interesting. Yeah. So one cool trick that he showed is, like, they use something called date protocol so that you can pass in an object that acts like a date. Obviously, if you have a pure function and you use the date initializer, that will use the current date. So every time you call that function, it's going to have a different value. And if it has a different value every time, it's really hard to know what its output is going to be. So what they did is they wrapped up date into its own protocol, and that way they can kind of inject a testing date that it would always be the same. So they can make sure to get deterministic output from each of their functions to make their functions basically more pure.

Chris Dzombak
Cool. Okay. That sounds really interesting. Yeah.

Soroush Khanlou
And Agnes talked about, basically, reactive programming and basically its benefits and why it's good and how to use it. So they're big reactive Swift fans, so that's the one they use.

Chris Dzombak
You mean reactive swift, not RX swift. Or do you mean RX swift?

Soroush Khanlou
I mean the reactive cocoa people, when they make a Swift version of library, they call it reactive Swift. Right, right.

Chris Dzombak
Well, it's what they call the Swift implementation of the reactive sort of core, like the implementation of signal and the various transformations. Right.

Soroush Khanlou
Got you.

Chris Dzombak
And that is still distinct from reactive cocoa, which is your cocoa bindings for that reactive core.

Soroush Khanlou
Nice. Right. That makes sense. So you want to separate the UI parts from the core of the thing, right?

Chris Dzombak
Yeah. Or at least that's my understanding. I'll double check this and we'll put a link to both Reactive Swift and Reactive Cocoa in the show notes.

Soroush Khanlou
There were a lot of great talks. I just want to mention one more summer Panaj PanAge. I'm not sure how to say her last name. She said it on stage, but I forgot. She basically gave a talk about how a lot of the idioms and things that we use in Objective C don't translate so well to Swift. And so she kind of told these four stories in sort of a nursery rhyme kind of way. Not nursery rhymes, but like bedtime stories. And there were about different Swift features that you could use to get more expressiveness out of things that you would normally do. So if you had a completion block that would normally have a value or an error, and it would pass them both and they would both be optional, she kind of walked through in a really kind of enlightening way that there are two invalid states here. One is where both of those variables are nil, and the other invalid state is where both those variables have values. And so the way to solve this problem, of course, is to use an enum like the result type, which we mentioned on literally every episode of this podcast.

Chris Dzombak
That may literally be true.

Soroush Khanlou
It honestly might be. We'll put a link in the show notes and so she kind of broke that down. That was like one of the little fairy tales that she told. And she told several other stories about refactoring this code and making it cleaner and nicer. And it was a really great talk. It was really like very functional, useful stuff.

Chris Dzombak
Awesome. Yeah. And that's something that's really useful to think about. Right. As we move from writing Objective C code bases to writing Swift code bases and maybe to using Objective C and Swift in the same code base, it's very easy to end up writing basically Objective C idioms, but in Swift. And it works out more nicely if you really think about what you're writing and don't bring across some of those sharp edges or some of those almost anti patterns from Objective C into Swift.

Soroush Khanlou
Right. You get a little bit tighter code if you use the Swifty features.

Chris Dzombak
Yeah, absolutely. They're just fewer edge cases, less pointy bits.

Soroush Khanlou
You work with the language rather than working against the language, I think.

Chris Dzombak
Yeah. Or you let the language work for you in a way that Objective C couldn't.

Soroush Khanlou
Right, exactly. And then that was Thursday, and Friday were the talks at the conference, and then Saturday was a hackathon, which was also really cool. So basically about 400 people, both Japanese and foreign, basically all got together in a huge room and hacked together a project in about 7 hours. And we saw some cool ones there was a Finnish couple who made a cool Swift on a server app and a client side app in the 7 hours, which was really fun. There was a couple of other really cool projects. One was something to turn PBX proge files into JSON so that you can diff them more easily and understand them and maybe even parse them and process them.

Chris Dzombak
Whoa.

Soroush Khanlou
Yeah. Isn't that cool? Obviously, it has a store copy.

Chris Dzombak
Yeah, that's really interesting, though.

Soroush Khanlou
Yeah, they add it basically as a build phase, and so every time you build your project, it'll regenerate this PBX project file JSON. And so that way you could just really easily read it and really easily understand exactly what each bit means. And then diffing is much easier. And then for later processing is also super easy. So that was a cool project too. We judged about 10% of the projects, our little judging team, and then all the projects went up. The ten that won from each judging team, they went up and they kind of, like, were put to a more general vote. And the winning project was basically something that you could use swift Playgrounds with Lego mindstorms. And so you could write commands in your playground and it would be executed on your little robots that would, like, drive around and do stuff just from commands on your Swift playground, which was really dope. It was cool.

Chris Dzombak
That's a really cool use of playgrounds, too, right? Like, that ties in very nicely with Apple's vision for playgrounds as a tool for education.

Soroush Khanlou
Yeah. Well, don't say that too loud or Jason Brennan will hear you and he'll have a word with us. He'll send us a stern email.

Chris Dzombak
Jason, I'll be in New York in a couple of weeks, and I'm looking forward to seeing you.

Soroush Khanlou
Boom. There it is. I just want to close on a quick thing about the community that I really liked about this conference. I've never been to East Asia before. I've pretty much only been to conferences in Europe and America. And while I was there, we sort of hold office hours or open, like, a little area where you can talk to the speaker after their talk. And I was helping some people with some coordinator stuff, helping some people with some sequence stuff. The translators also came to this office hours session, so the native Japanese speakers were able to communicate with us and ask us questions, which was also super cool. I've never that's really great. Yeah. Tried to teach code stuff through an interpreter, and it was like, definitely a very surreal experience. But one of the coolest things that happened was two Chinese guys came up and they were like, hey. And they told me their names and they gave me their cards and they said that we're the team that's been translating your articles into Chinese. And I had gotten an email about this. They kind of asked permission, hey, can we translate your articles? And I said, yeah, of course. And they really thanked me. They were like, you're doing a good thing is being done for the community here. And they told me that they're having a conference in Shenzhen as well. And so they're like, Maybe you could come to Shenzhen. I was like, I would love to come to Shenzhen. It was just so cool. And they were like, the person who normally transit your articles couldn't make it. She couldn't travel. But we really do appreciate the work you do. And I was like, I appreciate the work that you do. And it was just like a really cool moment of, like, I don't know when else I would have gotten to meet these guys, but it was just such a nice chance to connect with some people that I normally would never meet in real life. It was just really nice.

Chris Dzombak
Yeah, that's really nice.

Soroush Khanlou
Isn't that great?

Chris Dzombak
That is exactly the right word for it. Yeah.

Soroush Khanlou
And so maybe we'll do a podcast about a conference in Shenzhen sometime soon.

Chris Dzombak
Yeah, that would be awesome.

Soroush Khanlou
There was lots of really great community stuff, great people out here. It's just really nice to see everybody and nice to talk to so many people about Swift and about programming. Yeah. So that's basically what Japan has been like. I'm here for another couple of days, and then I head back to New York. Back to real life.

Chris Dzombak
Yeah. And so a couple of weeks after you get back to New York, I will be in New York for work, and I think we'll probably record at least one episode in person there.

Soroush Khanlou
Yeah, that'll be great. It'll be really good to see you.

Chris Dzombak
Yeah, it'll be great to see you, too.

Soroush Khanlou
Cool. Sweet. Well, as always, Chris, it was great to catch up with you.

Chris Dzombak
Great to catch up with you. Thank you so much, everybody, for listening, and we'll talk to you in two weeks.

